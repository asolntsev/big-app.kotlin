defaultTasks 'classes'

buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20'
  }
}

apply plugin: "kotlin"

repositories {
  mavenCentral()
}

dependencies {
  implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.7.21'
}

task libs(type: Sync) {
  from configurations.testRuntimeClasspath
  into "$buildDir/lib"
}

compileKotlin.dependsOn libs

compileKotlin {
  kotlinOptions {
    freeCompilerArgs = ['-nowarn', '-Xuse-k2']
  }
}
